{"ast":null,"code":"import _defineProperty from \"C:/Users/Edwaed/Desktop/fund-management-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport axios from \"axios\";\nimport { message } from \"ant-design-vue\";\nconst API_KEY = \"135e0789b5c24be6a9fcf196a28ab290\"; // Replace with your Twelve Data API key\nconst API_BASE_URL = \"https://api.twelvedata.com\";\nconst axiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  responseType: \"json\"\n});\naxiosInstance.interceptors.request.use(config => {\n  return {\n    ...config,\n    headers: {\n      ...config.headers,\n      Authorization: \"apikey \" + API_KEY\n    }\n  };\n});\nclass BaseApiService {\n  constructor() {\n    _defineProperty(this, \"showMessage\", (isSuccessDisplay = false) => res => {\n      const {\n        code,\n        msg\n      } = res;\n      const isError = this.isError(code);\n      if (isError) {\n        message.error(msg);\n      }\n      if (isSuccessDisplay && !isError) {\n        message.success(msg);\n      }\n      return res;\n    });\n  }\n  async get(path, params) {\n    path = String(path);\n    path = params ? `${path}?${Object.entries(params).map(([key, value]) => `${key}=${value}`).join(\"&\")}` : path;\n    return axiosInstance.get(path).then(res => res.data).catch(err => this.errorHandler(err));\n  }\n  isError(code) {\n    console.log(code);\n    return !(code.toString().startsWith(\"2\") || code.toString().startsWith(\"3\"));\n  }\n  errorHandler(err) {\n    const msg = err.message;\n    const code = err.code;\n    return {\n      msg,\n      code\n    };\n  }\n}\nclass ApiService extends BaseApiService {\n  fetchStockList() {\n    return this.get(\"/stocks\").then(this.showMessage(false));\n  }\n}\n\n// // Error handler function\n// const handleApiError = (error) => {\n//   if (error.response) {\n//     const errorData = error.response.data;\n//     console.error(\"API Error Response:\", errorData.message);\n//     console.error(\"Status Code:\", errorData.code);\n//     console.error(\"Status:\", errorData.status);\n//   } else if (error.request) {\n//     console.error(\"API Request Error:\", error.request);\n//   } else {\n//     console.error(\"API Error:\", error.message);\n//   }\n// };\n\nexport const apiService = new ApiService();\nexport default apiService;","map":{"version":3,"names":["axios","message","API_KEY","API_BASE_URL","axiosInstance","create","baseURL","responseType","interceptors","request","use","config","headers","Authorization","BaseApiService","constructor","_defineProperty","isSuccessDisplay","res","code","msg","isError","error","success","get","path","params","String","Object","entries","map","key","value","join","then","data","catch","err","errorHandler","console","log","toString","startsWith","ApiService","fetchStockList","showMessage","apiService"],"sources":["C:/Users/Edwaed/Desktop/fund-management-app/src/services/fundAPI.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { message } from \"ant-design-vue\";\r\n\r\nconst API_KEY = \"135e0789b5c24be6a9fcf196a28ab290\"; // Replace with your Twelve Data API key\r\nconst API_BASE_URL = \"https://api.twelvedata.com\";\r\nconst axiosInstance = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  responseType: \"json\",\r\n});\r\n\r\naxiosInstance.interceptors.request.use((config) => {\r\n  return {\r\n    ...config,\r\n    headers: {\r\n      ...config.headers,\r\n      Authorization: \"apikey \" + API_KEY,\r\n    },\r\n  };\r\n});\r\n\r\nclass BaseApiService {\r\n  async get(path, params) {\r\n    path = String(path);\r\n    path = params\r\n      ? `${path}?${Object.entries(params)\r\n          .map(([key, value]) => `${key}=${value}`)\r\n          .join(\"&\")}`\r\n      : path;\r\n\r\n    return axiosInstance\r\n      .get(path)\r\n      .then((res) => res.data)\r\n      .catch((err) => this.errorHandler(err));\r\n  }\r\n\r\n  isError(code) {\r\n    console.log(code);\r\n    return !(\r\n      code.toString().startsWith(\"2\") || code.toString().startsWith(\"3\")\r\n    );\r\n  }\r\n\r\n  showMessage =\r\n    (isSuccessDisplay = false) =>\r\n    (res) => {\r\n      const { code, msg } = res;\r\n      const isError = this.isError(code);\r\n\r\n      if (isError) {\r\n        message.error(msg);\r\n      }\r\n\r\n      if (isSuccessDisplay && !isError) {\r\n        message.success(msg);\r\n      }\r\n\r\n      return res;\r\n    };\r\n\r\n  errorHandler(err) {\r\n    const msg = err.message;\r\n    const code = err.code;\r\n\r\n    return { msg, code };\r\n  }\r\n}\r\n\r\nclass ApiService extends BaseApiService {\r\n  fetchStockList() {\r\n    return this.get(\"/stocks\").then(this.showMessage(false));\r\n  }\r\n}\r\n\r\n// // Error handler function\r\n// const handleApiError = (error) => {\r\n//   if (error.response) {\r\n//     const errorData = error.response.data;\r\n//     console.error(\"API Error Response:\", errorData.message);\r\n//     console.error(\"Status Code:\", errorData.code);\r\n//     console.error(\"Status:\", errorData.status);\r\n//   } else if (error.request) {\r\n//     console.error(\"API Request Error:\", error.request);\r\n//   } else {\r\n//     console.error(\"API Error:\", error.message);\r\n//   }\r\n// };\r\n\r\nexport const apiService = new ApiService();\r\n\r\nexport default apiService;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,gBAAgB;AAExC,MAAMC,OAAO,GAAG,kCAAkC,CAAC,CAAC;AACpD,MAAMC,YAAY,GAAG,4BAA4B;AACjD,MAAMC,aAAa,GAAGJ,KAAK,CAACK,MAAM,CAAC;EACjCC,OAAO,EAAEH,YAAY;EACrBI,YAAY,EAAE;AAChB,CAAC,CAAC;AAEFH,aAAa,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACjD,OAAO;IACL,GAAGA,MAAM;IACTC,OAAO,EAAE;MACP,GAAGD,MAAM,CAACC,OAAO;MACjBC,aAAa,EAAE,SAAS,GAAGX;IAC7B;EACF,CAAC;AACH,CAAC,CAAC;AAEF,MAAMY,cAAc,CAAC;EAAAC,YAAA;IAAAC,eAAA,sBAuBjB,CAACC,gBAAgB,GAAG,KAAK,KACxBC,GAAG,IAAK;MACP,MAAM;QAAEC,IAAI;QAAEC;MAAI,CAAC,GAAGF,GAAG;MACzB,MAAMG,OAAO,GAAG,IAAI,CAACA,OAAO,CAACF,IAAI,CAAC;MAElC,IAAIE,OAAO,EAAE;QACXpB,OAAO,CAACqB,KAAK,CAACF,GAAG,CAAC;MACpB;MAEA,IAAIH,gBAAgB,IAAI,CAACI,OAAO,EAAE;QAChCpB,OAAO,CAACsB,OAAO,CAACH,GAAG,CAAC;MACtB;MAEA,OAAOF,GAAG;IACZ,CAAC;EAAA;EApCH,MAAMM,GAAGA,CAACC,IAAI,EAAEC,MAAM,EAAE;IACtBD,IAAI,GAAGE,MAAM,CAACF,IAAI,CAAC;IACnBA,IAAI,GAAGC,MAAM,GACR,GAAED,IAAK,IAAGG,MAAM,CAACC,OAAO,CAACH,MAAM,CAAC,CAC9BI,GAAG,CAAC,CAAC,CAACC,GAAG,EAAEC,KAAK,CAAC,KAAM,GAAED,GAAI,IAAGC,KAAM,EAAC,CAAC,CACxCC,IAAI,CAAC,GAAG,CAAE,EAAC,GACdR,IAAI;IAER,OAAOrB,aAAa,CACjBoB,GAAG,CAACC,IAAI,CAAC,CACTS,IAAI,CAAEhB,GAAG,IAAKA,GAAG,CAACiB,IAAI,CAAC,CACvBC,KAAK,CAAEC,GAAG,IAAK,IAAI,CAACC,YAAY,CAACD,GAAG,CAAC,CAAC;EAC3C;EAEAhB,OAAOA,CAACF,IAAI,EAAE;IACZoB,OAAO,CAACC,GAAG,CAACrB,IAAI,CAAC;IACjB,OAAO,EACLA,IAAI,CAACsB,QAAQ,CAAC,CAAC,CAACC,UAAU,CAAC,GAAG,CAAC,IAAIvB,IAAI,CAACsB,QAAQ,CAAC,CAAC,CAACC,UAAU,CAAC,GAAG,CAAC,CACnE;EACH;EAmBAJ,YAAYA,CAACD,GAAG,EAAE;IAChB,MAAMjB,GAAG,GAAGiB,GAAG,CAACpC,OAAO;IACvB,MAAMkB,IAAI,GAAGkB,GAAG,CAAClB,IAAI;IAErB,OAAO;MAAEC,GAAG;MAAED;IAAK,CAAC;EACtB;AACF;AAEA,MAAMwB,UAAU,SAAS7B,cAAc,CAAC;EACtC8B,cAAcA,CAAA,EAAG;IACf,OAAO,IAAI,CAACpB,GAAG,CAAC,SAAS,CAAC,CAACU,IAAI,CAAC,IAAI,CAACW,WAAW,CAAC,KAAK,CAAC,CAAC;EAC1D;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,UAAU,GAAG,IAAIH,UAAU,CAAC,CAAC;AAE1C,eAAeG,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}