{"ast":null,"code":"import _defineProperty from \"C:/Users/Edwaed/Desktop/stock_app/fund-management-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport axios from \"axios\";\nimport { message } from \"ant-design-vue\";\nconst API_BASE_URL = \"http://localhost:3001/api\";\nconst axiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  responseType: \"json\"\n});\nclass BaseApiService {\n  constructor() {\n    _defineProperty(this, \"showMessage\", () => res => {\n      const {\n        status\n      } = res;\n      const isError = status === \"error\";\n      if (isError) {\n        message.error(res.message);\n      }\n      return res;\n    });\n  }\n  async get(path, params) {\n    path = this.getPath(path);\n    path = params ? `${path}?${Object.entries(params).map(([key, value]) => `${key}=${value}`).join(\"&\")}` : path;\n    return axiosInstance.get(path).then(res => res.data).catch(err => this.errorHandler(err));\n  }\n  errorHandler(err) {\n    const msg = err.message;\n    const code = err.code;\n    return {\n      msg,\n      code\n    };\n  }\n  getPath(path) {\n    return !Array.isArray(path) ? String(path) : path.join(\"/\");\n  }\n}\nclass ApiService extends BaseApiService {\n  getAllStock() {\n    return this.get([\"stock\", \"all\"]).then(this.showMessage());\n  }\n  getStock(symbol) {\n    return this.get([\"stock\", symbol]).then(this.showMessage());\n  }\n  searchStock(symbol) {\n    return this.get([\"stock\"], {\n      symbol\n    }).then(this.showMessage());\n  }\n}\nexport const apiService = new ApiService();\nexport default apiService;","map":{"version":3,"names":["axios","message","API_BASE_URL","axiosInstance","create","baseURL","responseType","BaseApiService","constructor","_defineProperty","res","status","isError","error","get","path","params","getPath","Object","entries","map","key","value","join","then","data","catch","err","errorHandler","msg","code","Array","isArray","String","ApiService","getAllStock","showMessage","getStock","symbol","searchStock","apiService"],"sources":["C:/Users/Edwaed/Desktop/stock_app/fund-management-app/src/services/apiService.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { message } from \"ant-design-vue\";\r\n\r\nconst API_BASE_URL = \"http://localhost:3001/api\";\r\nconst axiosInstance = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  responseType: \"json\",\r\n});\r\n\r\nclass BaseApiService {\r\n  async get(path, params) {\r\n    path = this.getPath(path);\r\n    path = params\r\n      ? `${path}?${Object.entries(params)\r\n          .map(([key, value]) => `${key}=${value}`)\r\n          .join(\"&\")}`\r\n      : path;\r\n\r\n    return axiosInstance\r\n      .get(path)\r\n      .then((res) => res.data)\r\n      .catch((err) => this.errorHandler(err));\r\n  }\r\n\r\n  showMessage = () => (res) => {\r\n    const { status } = res;\r\n    const isError = status === \"error\";\r\n\r\n    if (isError) {\r\n      message.error(res.message);\r\n    }\r\n\r\n    return res;\r\n  };\r\n\r\n  errorHandler(err) {\r\n    const msg = err.message;\r\n    const code = err.code;\r\n\r\n    return { msg, code };\r\n  }\r\n\r\n  getPath(path) {\r\n    return !Array.isArray(path) ? String(path) : path.join(\"/\");\r\n  }\r\n}\r\n\r\nclass ApiService extends BaseApiService {\r\n  getAllStock() {\r\n    return this.get([\"stock\", \"all\"]).then(this.showMessage());\r\n  }\r\n  getStock(symbol) {\r\n    return this.get([\"stock\", symbol]).then(this.showMessage());\r\n  }\r\n  searchStock(symbol) {\r\n    return this.get([\"stock\"], { symbol }).then(this.showMessage());\r\n  }\r\n}\r\n\r\nexport const apiService = new ApiService();\r\n\r\nexport default apiService;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,gBAAgB;AAExC,MAAMC,YAAY,GAAG,2BAA2B;AAChD,MAAMC,aAAa,GAAGH,KAAK,CAACI,MAAM,CAAC;EACjCC,OAAO,EAAEH,YAAY;EACrBI,YAAY,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,cAAc,CAAC;EAAAC,YAAA;IAAAC,eAAA,sBAeL,MAAOC,GAAG,IAAK;MAC3B,MAAM;QAAEC;MAAO,CAAC,GAAGD,GAAG;MACtB,MAAME,OAAO,GAAGD,MAAM,KAAK,OAAO;MAElC,IAAIC,OAAO,EAAE;QACXX,OAAO,CAACY,KAAK,CAACH,GAAG,CAACT,OAAO,CAAC;MAC5B;MAEA,OAAOS,GAAG;IACZ,CAAC;EAAA;EAvBD,MAAMI,GAAGA,CAACC,IAAI,EAAEC,MAAM,EAAE;IACtBD,IAAI,GAAG,IAAI,CAACE,OAAO,CAACF,IAAI,CAAC;IACzBA,IAAI,GAAGC,MAAM,GACR,GAAED,IAAK,IAAGG,MAAM,CAACC,OAAO,CAACH,MAAM,CAAC,CAC9BI,GAAG,CAAC,CAAC,CAACC,GAAG,EAAEC,KAAK,CAAC,KAAM,GAAED,GAAI,IAAGC,KAAM,EAAC,CAAC,CACxCC,IAAI,CAAC,GAAG,CAAE,EAAC,GACdR,IAAI;IAER,OAAOZ,aAAa,CACjBW,GAAG,CAACC,IAAI,CAAC,CACTS,IAAI,CAAEd,GAAG,IAAKA,GAAG,CAACe,IAAI,CAAC,CACvBC,KAAK,CAAEC,GAAG,IAAK,IAAI,CAACC,YAAY,CAACD,GAAG,CAAC,CAAC;EAC3C;EAaAC,YAAYA,CAACD,GAAG,EAAE;IAChB,MAAME,GAAG,GAAGF,GAAG,CAAC1B,OAAO;IACvB,MAAM6B,IAAI,GAAGH,GAAG,CAACG,IAAI;IAErB,OAAO;MAAED,GAAG;MAAEC;IAAK,CAAC;EACtB;EAEAb,OAAOA,CAACF,IAAI,EAAE;IACZ,OAAO,CAACgB,KAAK,CAACC,OAAO,CAACjB,IAAI,CAAC,GAAGkB,MAAM,CAAClB,IAAI,CAAC,GAAGA,IAAI,CAACQ,IAAI,CAAC,GAAG,CAAC;EAC7D;AACF;AAEA,MAAMW,UAAU,SAAS3B,cAAc,CAAC;EACtC4B,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACrB,GAAG,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,CAACU,IAAI,CAAC,IAAI,CAACY,WAAW,CAAC,CAAC,CAAC;EAC5D;EACAC,QAAQA,CAACC,MAAM,EAAE;IACf,OAAO,IAAI,CAACxB,GAAG,CAAC,CAAC,OAAO,EAAEwB,MAAM,CAAC,CAAC,CAACd,IAAI,CAAC,IAAI,CAACY,WAAW,CAAC,CAAC,CAAC;EAC7D;EACAG,WAAWA,CAACD,MAAM,EAAE;IAClB,OAAO,IAAI,CAACxB,GAAG,CAAC,CAAC,OAAO,CAAC,EAAE;MAAEwB;IAAO,CAAC,CAAC,CAACd,IAAI,CAAC,IAAI,CAACY,WAAW,CAAC,CAAC,CAAC;EACjE;AACF;AAEA,OAAO,MAAMI,UAAU,GAAG,IAAIN,UAAU,CAAC,CAAC;AAE1C,eAAeM,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}