{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useRouter } from \"vue-router\";\nimport { defineComponent, ref, h, watch, onMounted } from \"vue\";\nimport LayoutLogo from \"./LayoutLogo.vue\";\nimport { apiService } from \"@/services/apiService\";\nexport default defineComponent({\n  components: {\n    LayoutLogo\n  },\n  setup() {\n    const router = useRouter();\n    const routes = router.options.routes.filter(route => route.meta);\n    const selectedKeys = ref([]);\n    const searchString = ref(\"\");\n    const navigate = routeName => {\n      router.push({\n        name: routeName\n      });\n    };\n    const onSearch = async text => {\n      console.log(text);\n      searchString.value = text;\n      if (text.length > 1) {\n        await apiService.searchStock(text).then(res => console.log(res));\n      }\n    };\n    const renderIcon = iconType => {\n      return h(iconType);\n    };\n\n    // Watch for route changes and update selectedKeys\n    const updateSelectedKeys = () => {\n      selectedKeys.value = routes.filter(route => route.path === router.currentRoute.value.path).map(route => route.path);\n    };\n\n    // Listen to route changes\n    watch(() => router.currentRoute.value, () => {\n      updateSelectedKeys();\n    });\n\n    // Initial selection based on the current route\n    onMounted(() => {\n      updateSelectedKeys();\n    });\n    return {\n      routes: routes,\n      selectedKeys,\n      navigate,\n      searchString,\n      onSearch,\n      renderIcon\n    };\n  }\n});","map":{"version":3,"names":["useRouter","defineComponent","ref","h","watch","onMounted","LayoutLogo","apiService","components","setup","router","routes","options","filter","route","meta","selectedKeys","searchString","navigate","routeName","push","name","onSearch","text","console","log","value","length","searchStock","then","res","renderIcon","iconType","updateSelectedKeys","path","currentRoute","map"],"sources":["C:\\Users\\Edwaed\\Desktop\\stock_app\\fund-management-app\\src\\components\\AppLayout.vue"],"sourcesContent":["<template>\r\n  <a-layout style=\"height: 100vh\">\r\n    <a-layout-sider breakpoint=\"lg\" collapsed-width=\"0\">\r\n      <LayoutLogo />\r\n      <a-menu\r\n        v-model:selectedKeys=\"selectedKeys\"\r\n        mode=\"inline\"\r\n        theme=\"dark\"\r\n        style=\"text-align: center\"\r\n      >\r\n        <a-menu-item\r\n          v-for=\"route in routes\"\r\n          :key=\"route.path\"\r\n          @click=\"navigate(route.name)\"\r\n        >\r\n          <span style=\"font-size: 18px; text-transform: capitalize\">\r\n            {{ route.meta.name }}\r\n          </span>\r\n        </a-menu-item>\r\n      </a-menu>\r\n    </a-layout-sider>\r\n    <a-layout>\r\n      <a-layout-header\r\n        :style=\"{\r\n          background: '#fff',\r\n          padding: '0 16px',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n        }\"\r\n      >\r\n        <a-input-search\r\n          placeholder=\"Search by name\"\r\n          v-model:value=\"searchString\"\r\n          @search=\"onSearch\"\r\n          size=\"large\"\r\n          :style=\"{ width: '200px' }\"\r\n        />\r\n      </a-layout-header>\r\n      <a-layout-content :style=\"{ margin: '20px' }\">\r\n        <div class=\"layout-content\">\r\n          <router-view />\r\n        </div>\r\n      </a-layout-content>\r\n    </a-layout>\r\n  </a-layout>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nimport { defineComponent, ref, h, watch, onMounted } from \"vue\";\r\nimport LayoutLogo from \"./LayoutLogo.vue\";\r\nimport { apiService } from \"@/services/apiService\";\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    LayoutLogo,\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const routes = router.options.routes.filter((route) => route.meta);\r\n    const selectedKeys = ref([]);\r\n    const searchString = ref(\"\");\r\n\r\n    const navigate = (routeName) => {\r\n      router.push({ name: routeName });\r\n    };\r\n\r\n    const onSearch = async (text) => {\r\n      console.log(text);\r\n      searchString.value = text;\r\n      if (text.length > 1) {\r\n        await apiService.searchStock(text).then((res) => console.log(res));\r\n      }\r\n    };\r\n\r\n    const renderIcon = (iconType) => {\r\n      return h(iconType);\r\n    };\r\n\r\n    // Watch for route changes and update selectedKeys\r\n    const updateSelectedKeys = () => {\r\n      selectedKeys.value = routes\r\n        .filter((route) => route.path === router.currentRoute.value.path)\r\n        .map((route) => route.path);\r\n    };\r\n\r\n    // Listen to route changes\r\n    watch(\r\n      () => router.currentRoute.value,\r\n      () => {\r\n        updateSelectedKeys();\r\n      }\r\n    );\r\n\r\n    // Initial selection based on the current route\r\n    onMounted(() => {\r\n      updateSelectedKeys();\r\n    });\r\n\r\n    return {\r\n      routes: routes,\r\n      selectedKeys,\r\n      navigate,\r\n      searchString,\r\n      onSearch,\r\n      renderIcon,\r\n    };\r\n  },\r\n});\r\n</script>\r\n<style>\r\n.layout-content {\r\n  max-height: calc(100vh - 20px);\r\n  padding: \"20px\";\r\n  background: \"#fff\";\r\n  min-height: \"360px\";\r\n}\r\n</style>\r\n"],"mappings":";AAgDA,SAASA,SAAQ,QAAS,YAAY;AACtC,SAASC,eAAe,EAAEC,GAAG,EAAEC,CAAC,EAAEC,KAAK,EAAEC,SAAQ,QAAS,KAAK;AAC/D,OAAOC,UAAS,MAAO,kBAAkB;AACzC,SAASC,UAAS,QAAS,uBAAuB;AAElD,eAAeN,eAAe,CAAC;EAC7BO,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIV,SAAS,CAAC,CAAC;IAC1B,MAAMW,MAAK,GAAID,MAAM,CAACE,OAAO,CAACD,MAAM,CAACE,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC;IAClE,MAAMC,YAAW,GAAId,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAMe,YAAW,GAAIf,GAAG,CAAC,EAAE,CAAC;IAE5B,MAAMgB,QAAO,GAAKC,SAAS,IAAK;MAC9BT,MAAM,CAACU,IAAI,CAAC;QAAEC,IAAI,EAAEF;MAAU,CAAC,CAAC;IAClC,CAAC;IAED,MAAMG,QAAO,GAAI,MAAOC,IAAI,IAAK;MAC/BC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjBN,YAAY,CAACS,KAAI,GAAIH,IAAI;MACzB,IAAIA,IAAI,CAACI,MAAK,GAAI,CAAC,EAAE;QACnB,MAAMpB,UAAU,CAACqB,WAAW,CAACL,IAAI,CAAC,CAACM,IAAI,CAAEC,GAAG,IAAKN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC,CAAC;MACpE;IACF,CAAC;IAED,MAAMC,UAAS,GAAKC,QAAQ,IAAK;MAC/B,OAAO7B,CAAC,CAAC6B,QAAQ,CAAC;IACpB,CAAC;;IAED;IACA,MAAMC,kBAAiB,GAAIA,CAAA,KAAM;MAC/BjB,YAAY,CAACU,KAAI,GAAIf,MAAK,CACvBE,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACoB,IAAG,KAAMxB,MAAM,CAACyB,YAAY,CAACT,KAAK,CAACQ,IAAI,EAC/DE,GAAG,CAAEtB,KAAK,IAAKA,KAAK,CAACoB,IAAI,CAAC;IAC/B,CAAC;;IAED;IACA9B,KAAK,CACH,MAAMM,MAAM,CAACyB,YAAY,CAACT,KAAK,EAC/B,MAAM;MACJO,kBAAkB,CAAC,CAAC;IACtB,CACF,CAAC;;IAED;IACA5B,SAAS,CAAC,MAAM;MACd4B,kBAAkB,CAAC,CAAC;IACtB,CAAC,CAAC;IAEF,OAAO;MACLtB,MAAM,EAAEA,MAAM;MACdK,YAAY;MACZE,QAAQ;MACRD,YAAY;MACZK,QAAQ;MACRS;IACF,CAAC;EACH;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}